# GitHub Enterprise Team åŒæ­¥å·¥å…·

è‡ªåŠ¨åŒæ­¥ GitHub Enterprise çš„ Organization æˆå‘˜å’Œ Enterprise Team æˆå‘˜ï¼Œä»¥é…ç½®æ–‡ä»¶ (`config.json`) ä½œä¸ºå”¯ä¸€æ•°æ®æº (Source of Truth)ã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… **Organization ç®¡ç†**: è‡ªåŠ¨åˆ›å»º Organizationï¼ˆå¦‚ä¸å­˜åœ¨ï¼‰
- âœ… **æˆå‘˜åŒæ­¥**: åŒæ­¥ Organization å’Œ Enterprise Team æˆå‘˜
- âœ… **é‚€è¯·ç®¡ç†**: è‡ªåŠ¨å‘é€é‚€è¯·ç»™å¤–éƒ¨ç”¨æˆ·ï¼Œå¹¶ç®¡ç†å¾…å¤„ç†é‚€è¯·
- âœ… **æ™ºèƒ½æ¸…ç†**: è‡ªåŠ¨ç§»é™¤é…ç½®ä¸­ä¸å­˜åœ¨çš„æˆå‘˜ï¼ˆä¿ç•™ `reserved_members`ï¼‰
- âœ… **å¹‚ç­‰æ“ä½œ**: é‡å¤è¿è¡Œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨

## å‰ç½®è¦æ±‚

### 1. Python ç¯å¢ƒ

```bash
python >= 3.7
requests  # HTTP è¯·æ±‚åº“
```

### 2. GitHub Token

éœ€è¦è®¾ç½®ç¯å¢ƒå˜é‡ `GH_TOKEN`ï¼ŒToken éœ€è¦ä»¥ä¸‹æƒé™ï¼š

| æƒé™èŒƒå›´ | è¯´æ˜ |
|---------|------|
| `admin:enterprise` | ç®¡ç† Enterprise æˆå‘˜å’Œè®¾ç½® |
| `admin:org` | ç®¡ç† Organization æˆå‘˜ |
| `write:org` | ä¿®æ”¹ Organization å’Œ Team |
| `read:org` | è¯»å– Organization ä¿¡æ¯ |

```bash
export GH_TOKEN="ghp_xxxxxxxxxxxxxxxxxxxx"
```

## é…ç½®æ–‡ä»¶è¯´æ˜

### é…ç½®ç»“æ„

```json
{
  "enterprise": "your-enterprise-slug",
  "reserved_members": ["owner-username"],
  "orgs": [...],
  "teams": [...]
}
```

### å­—æ®µè¯¦è§£

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `enterprise` | string | âœ… | Enterprise çš„ URL slugï¼ˆå¦‚ `https://github.com/enterprises/xxx` ä¸­çš„ `xxx`ï¼‰ |
| `reserved_members` | array | âœ… | ä¿ç•™æˆå‘˜åˆ—è¡¨ï¼Œè¿™äº›ç”¨æˆ·ä¸ä¼šè¢«è‡ªåŠ¨ç§»é™¤å‡º Enterprise |
| `orgs` | array | âœ… | Organization é…ç½®æ•°ç»„ |
| `teams` | array | âœ… | Enterprise Team é…ç½®æ•°ç»„ |

### Organization é…ç½®

```json
{
  "login": "org-login-name",
  "admin": "admin-username",
  "billing_email": "billing@example.com",
  "members": [
    {"email": "user@example.com", "username": "github-user"}
  ]
}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `login` | string | âœ… | Organization çš„ç™»å½•å |
| `admin` | string | âœ… | Organization ç®¡ç†å‘˜çš„ GitHub ç”¨æˆ·å |
| `billing_email` | string | âœ… | è´¦å•é‚®ç®±åœ°å€ |
| `members` | array | âœ… | æˆå‘˜åˆ—è¡¨ |

### Team é…ç½®

```json
{
  "name": "team-name",
  "members": [
    {"email": "user@example.com", "username": "github-user"}
  ]
}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `name` | string | âœ… | Enterprise Team åç§° |
| `members` | array | âœ… | Team æˆå‘˜åˆ—è¡¨ |

### æˆå‘˜é…ç½®

```json
{"email": "user@example.com", "username": "github-user"}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `email` | string | âœ… | ç”¨æˆ·é‚®ç®±ï¼ˆç”¨äºå‘é€é‚€è¯·ï¼‰ |
| `username` | string | âœ… | GitHub ç”¨æˆ·å |

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# è®¾ç½® Token
export GH_TOKEN="your-github-token"

# è¿è¡ŒåŒæ­¥
python sync_team.py config.json
```

### ä½¿ç”¨æ¨¡æ¿

```bash
# å¤åˆ¶æ¨¡æ¿
cp config.template.json config.json

# ç¼–è¾‘é…ç½®
vim config.json

# è¿è¡ŒåŒæ­¥
python sync_team.py config.json
```

## å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¯»å– config.json                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  è·å– Enterprise ID                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åŒæ­¥ Organization                               â”‚
â”‚  â€¢ æ£€æŸ¥ Organization æ˜¯å¦å­˜åœ¨ï¼ˆä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰                   â”‚
â”‚  â€¢ åŒæ­¥ Organization æˆå‘˜                                    â”‚
â”‚  â€¢ å‘é€é‚€è¯·ç»™ä¸åœ¨ Enterprise çš„ç”¨æˆ·                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åŒæ­¥ Enterprise Team                            â”‚
â”‚  â€¢ æŸ¥æ‰¾æˆ–åˆ›å»º Team                                           â”‚
â”‚  â€¢ æ·»åŠ  Enterprise æˆå‘˜åˆ° Team                               â”‚
â”‚  â€¢ å‘é€é‚€è¯·ç»™å¤–éƒ¨ç”¨æˆ·                                         â”‚
â”‚  â€¢ ç§»é™¤ä¸åœ¨é…ç½®ä¸­çš„æˆå‘˜                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ¸…ç† Enterprise æˆå‘˜                            â”‚
â”‚  â€¢ ç§»é™¤ä¸åœ¨ä»»ä½• Team é…ç½®ä¸­çš„æˆå‘˜                              â”‚
â”‚  â€¢ ä¿ç•™ reserved_members ä¸­çš„ç”¨æˆ·                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”ŸæˆåŒæ­¥æŠ¥å‘Š                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é‚€è¯·æµç¨‹

å¯¹äºä¸åœ¨ Enterprise ä¸­çš„å¤–éƒ¨ç”¨æˆ·ï¼š

1. **é¦–æ¬¡è¿è¡Œ**: å‘é€ Enterprise é‚€è¯·é‚®ä»¶åˆ°ç”¨æˆ·é‚®ç®±
2. **ç”¨æˆ·æ“ä½œ**: ç”¨æˆ·éœ€è¦ç‚¹å‡»é‚®ä»¶ä¸­çš„é“¾æ¥æ¥å—é‚€è¯·
3. **å†æ¬¡è¿è¡Œ**: æ£€æµ‹åˆ°ç”¨æˆ·å·²åŠ å…¥ Enterpriseï¼Œè‡ªåŠ¨æ·»åŠ åˆ° Team

> âš ï¸ **æ³¨æ„**: é‚€è¯·éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ¥å—ï¼Œè„šæœ¬æ— æ³•è‡ªåŠ¨å®Œæˆæ­¤æ­¥éª¤ã€‚

## ç¤ºä¾‹é…ç½®

```json
{
  "enterprise": "mycompany",
  "reserved_members": ["enterprise-owner", "billing-admin"],
  "orgs": [
    {
      "login": "mycompany-dev",
      "admin": "enterprise-owner",
      "billing_email": "billing@mycompany.com",
      "members": [
        {"email": "alice@mycompany.com", "username": "alice"},
        {"email": "bob@mycompany.com", "username": "bob"}
      ]
    }
  ],
  "teams": [
    {
      "name": "backend-team",
      "members": [
        {"email": "alice@mycompany.com", "username": "alice"},
        {"email": "charlie@contractor.com", "username": "charlie"}
      ]
    },
    {
      "name": "frontend-team",
      "members": [
        {"email": "bob@mycompany.com", "username": "bob"}
      ]
    }
  ]
}
```

## è¾“å‡ºè¯´æ˜

### æ§åˆ¶å°è¾“å‡º

```
âœ“ è·å– Enterprise ID: E_kgDOAAeAJA

ğŸš€ å¼€å§‹åŒæ­¥ Enterprise: mycompany
ğŸ“ å…±éœ€å¤„ç† 2 ä¸ª Enterprise Team(s)
ğŸ“ å…±éœ€å¤„ç† 1 ä¸ª Organization(s)

============================================================
æ­£åœ¨åŒæ­¥ Organization: mycompany-dev
============================================================
...
```

### åŒæ­¥æŠ¥å‘Š

è¿è¡Œç»“æŸåä¼šç”Ÿæˆ `sync_report.txt`ï¼ŒåŒ…å«ï¼š

- åŒæ­¥æ—¶é—´
- å„ Organization çš„åŒæ­¥ç»“æœ
- å„ Team çš„æˆå‘˜å˜æ›´
- å¾…å¤„ç†çš„é‚€è¯·åˆ—è¡¨

## å¸¸è§é—®é¢˜

### Q: é‚€è¯·å‘é€åç”¨æˆ·æ²¡æ”¶åˆ°é‚®ä»¶ï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. é‚®ç®±åœ°å€æ˜¯å¦æ­£ç¡®
2. ç”¨æˆ·çš„åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
3. æ˜¯å¦å·²æœ‰å¾…å¤„ç†çš„é‚€è¯·ï¼ˆè„šæœ¬ä¼šè‡ªåŠ¨æ’¤é”€æ—§é‚€è¯·å¹¶é‡æ–°å‘é€ï¼‰

### Q: ä¸ºä»€ä¹ˆæŸäº›ç”¨æˆ·æ— æ³•æ·»åŠ åˆ° Teamï¼Ÿ

A: ç”¨æˆ·å¿…é¡»å…ˆæ¥å— Enterprise é‚€è¯·æˆä¸º Enterprise æˆå‘˜ï¼Œæ‰èƒ½è¢«æ·»åŠ åˆ° Teamã€‚

### Q: reserved_members æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ

A: è¿™äº›ç”¨æˆ·ä¸ä¼šè¢«è‡ªåŠ¨ç§»é™¤ï¼Œé€šå¸¸ç”¨äºä¿æŠ¤ Enterprise Owner å’Œç®¡ç†å‘˜è´¦å·ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹å¾…å¤„ç†çš„é‚€è¯·ï¼Ÿ

A: è¿è¡Œè„šæœ¬æ—¶ä¼šæ˜¾ç¤ºå¾…å¤„ç†é‚€è¯·åˆ—è¡¨ï¼Œæˆ–æŸ¥çœ‹ GitHub Enterprise ç®¡ç†é¡µé¢ã€‚

## è®¸å¯è¯

MIT License
